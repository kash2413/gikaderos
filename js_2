!function(n){var e,o=document.getElementById("xieg6Sie"),t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,d=function(){var o=window.location.search,n="";return 1<o.length&&(-1<o.indexOf("sonar_preview=1")&&(n+="&sp=true"),-1<o.indexOf("sonar_disable=1")&&(n+="&sd=true")),n},i=function(){return[].concat.call([].slice.call(document.getElementsByClassName("viously-player")),[].slice.call(document.getElementsByClassName("vsly-player")))},u=function(){for(var o=[],n="",e=i(),t=0;t<e.length;t++){var d=e[t];if(d.hasAttribute("id")){var u=d.getAttribute("id");o.push(u);var c={};d.dataset.setup&&(c.setup=JSON.parse(d.dataset.setup)),d.dataset.ui&&(c.ui=JSON.parse(d.dataset.ui)),d.dataset.scope&&(c.scope=JSON.parse(d.dataset.scope)),d.dataset.demo&&(c.demo=JSON.parse(d.dataset.demo)),d.dataset.player&&(c.player=d.dataset.player),d.dataset.vastCustomMacro&&(c.vastPrimaryCustomMacro=encodeURIComponent(d.dataset.vastCustomMacro)),d.dataset.vastPrimaryCustomMacro&&(c.vastPrimaryCustomMacro=encodeURIComponent(d.dataset.vastPrimaryCustomMacro)),d.dataset.vastPassbackCustomMacro&&(c.vastPassbackCustomMacro=encodeURIComponent(d.dataset.vastPassbackCustomMacro)),"{}"!=(c=JSON.stringify(c))&&(n+="&"+u+"="+encodeURIComponent(c))}}return o.length?"&mav="+o.join(",")+n:""},c=function(){if(!document.getElementById("aJ2Yie7u")){e&&e.disconnect();var o=document.createElement("script");o.id="aJ2Yie7u",o.type="text/javascript",o.src=n+"/"+(new Date).getTime()+"/js?w="+encodeURIComponent(window.location.protocol+"//"+window.location.hostname+window.location.pathname)+"&r="+encodeURIComponent(document.referrer)+u()+d(),t.insertBefore(o,t.firstChild)}},m=function(){document.removeEventListener("DOMContentLoaded",m),window.removeEventListener("load",m),c()},a=function(){document.body.removeEventListener("keydown",a,!1),document.body.removeEventListener("mouseover",a,!1),document.body.removeEventListener("touchmove",a,!1),document.body.removeEventListener("touchstart",a,!1),c()};o&&!window.viously&&("true"==o.getAttribute("data-vsly-lzld")?(document.body.addEventListener("keydown",a,!1),document.body.addEventListener("mouseover",a,!1),document.body.addEventListener("touchmove",a,!1),document.body.addEventListener("touchstart",a,!1)):(window.MutationObserver&&(e=new MutationObserver(function(){i().length&&c()})).observe(document.documentElement,{childList:!0,attributes:!0,characterData:!0}),1==o.defer?c():"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(c):(document.addEventListener("DOMContentLoaded",m),window.addEventListener("load",m))))}("https://sonar.viously.com");